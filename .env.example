# ============================================================================
# Tidyhood Environment Variables
# ============================================================================
# Copy this file to .env.local and fill in your actual values
# Never commit .env.local to version control
# ============================================================================

# ----------------------------------------------------------------------------
# Site Configuration (REQUIRED)
# ----------------------------------------------------------------------------
# Used for SEO, metadata, and canonical URLs
NEXT_PUBLIC_SITE_NAME=Tidyhood
NEXT_PUBLIC_SITE_URL=http://localhost:3000
NEXT_PUBLIC_BASE_URL=http://localhost:3000

# Production Example:
NEXT_PUBLIC_SITE_URL=https://tidyhood.nyc
# NEXT_PUBLIC_BASE_URL=https://tidyhood.com

# Service Area ZIP Codes (REQUIRED)
# Comma-separated list of ZIP codes where service is available
# Used for address validation in the booking flow
NEXT_PUBLIC_ALLOWED_ZIPS=10026,10027,10030

# ----------------------------------------------------------------------------
# Supabase (REQUIRED)
# ----------------------------------------------------------------------------
# Get these values from: https://app.supabase.com/project/_/settings/api
#
# NEXT_PUBLIC_SUPABASE_URL: Your project's API URL
# NEXT_PUBLIC_SUPABASE_ANON_KEY: Public anon/client key (safe to expose)
# SUPABASE_SERVICE_ROLE_KEY: Service role key (NEVER expose to client)
#
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# Example:
# NEXT_PUBLIC_SUPABASE_URL=https://abcdefghijklmnop.supabase.co
# NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
# SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# ----------------------------------------------------------------------------
# Google Maps API (REQUIRED for Address Autocomplete)
# ----------------------------------------------------------------------------
# Get your API key from: https://console.cloud.google.com/google/maps-apis
# 
# Setup Instructions:
# 1. Create a Google Cloud project
# 2. Enable the "Places API" for your project
# 3. Create an API key with the following restrictions:
#    - Application restrictions: HTTP referrers (for production)
#    - API restrictions: Restrict key to "Places API"
#
# CRITICAL: Without this key, address autocomplete will fail with 500 errors
# The booking flow depends on this for address validation
#
NEXT_PUBLIC_GOOGLE_MAPS_API_KEY=your-google-maps-api-key-here

# Example:
# NEXT_PUBLIC_GOOGLE_MAPS_API_KEY=AIzaSyD1234567890abcdefghijklmnop

# ----------------------------------------------------------------------------
# Stripe (REQUIRED for Payments)
# ----------------------------------------------------------------------------
# Get these values from: https://dashboard.stripe.com/apikeys
#
# For Testing:
# - Use test keys (pk_test_... and sk_test_...)
# - Use test card: 4242 4242 4242 4242
#
# For Production:
# - Use live keys (pk_live_... and sk_live_...)
# - Set up webhook endpoint in Stripe Dashboard
#
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_your_publishable_key_here
STRIPE_SECRET_KEY=sk_test_your_secret_key_here
# STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Webhook Setup:
# 1. Go to: https://dashboard.stripe.com/webhooks
# 2. Add endpoint: https://yourdomain.com/api/webhooks/stripe
# 3. Select events: payment_intent.succeeded, payment_intent.payment_failed
# 4. Copy the signing secret to STRIPE_WEBHOOK_SECRET

# ----------------------------------------------------------------------------
# Twilio (REQUIRED for SMS Notifications)
# ----------------------------------------------------------------------------
# Get these values from: https://console.twilio.com/
#
# Setup Instructions:
# 1. Create a Twilio account
# 2. Purchase a phone number
# 3. Get your Account SID and Auth Token from the console
#
# Phone Number Format: E.164 format (+1XXXXXXXXXX for US numbers)
#
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=your-twilio-auth-token-here
TWILIO_FROM_PHONE=+15555551234

# Example:
# TWILIO_FROM_PHONE=+12125551234

# ----------------------------------------------------------------------------
# Admin Configuration (REQUIRED)
# ----------------------------------------------------------------------------
# Admin email for system notifications and support
# Format: Standard email address
ADMIN_EMAIL=admin@tidyhood.com

# Admin Bootstrap Email
# First user to sign up with this email will automatically become an admin
# This provides a secure way to create the initial admin user
# Format: Standard email address
SEED_ADMIN_EMAIL=admin@tidyhood.com

# Example:
# ADMIN_EMAIL=support@yourdomain.com
# SEED_ADMIN_EMAIL=admin@yourdomain.com

# ----------------------------------------------------------------------------
# Authentication & Security (REQUIRED)
# ----------------------------------------------------------------------------
# JWT Partner Role Claim
# Used for partner authentication and authorization
# Default: app_role (matches Supabase JWT claims)
JWT_PARTNER_ROLE_CLAIM=app_role

# ----------------------------------------------------------------------------
# Business Rules (REQUIRED)
# ----------------------------------------------------------------------------
# These values control business logic and pricing

# NYC Sales Tax Rate (8.875% as of 2024)
# Format: Decimal (0.08875 = 8.875%)
NYC_TAX_RATE=0.08875

# First Order Maximum (in cents)
# Limits the maximum amount for first-time orders
# Format: Integer in cents (12000 = $120.00)
FIRST_ORDER_CAP_CENTS=12000

# Minimum Laundry Weight (in pounds)
# Minimum weight required for laundry orders
# Format: Integer (15 = 15 lbs)
LAUNDRY_MIN_LBS=15

# ----------------------------------------------------------------------------
# Feature Flags (Optional - for gradual rollout)
# ----------------------------------------------------------------------------
# Control which operational features are enabled
# Set to 'true' to enable, anything else disables

# Partner Portal - Complete partner self-service interface
NEXT_PUBLIC_ENABLE_PARTNER_PORTAL=false

# Capacity Calendar - Visual capacity management
NEXT_PUBLIC_ENABLE_CAPACITY_CALENDAR=false

# Auto-Assign - Automatic order-to-partner assignment
NEXT_PUBLIC_ENABLE_AUTO_ASSIGN=false

# Automated Notifications - Background notification processing
NEXT_PUBLIC_ENABLE_AUTO_NOTIFICATIONS=false

# ----------------------------------------------------------------------------
# Unified Order Detail Design System (Optional - gradual rollout)
# ----------------------------------------------------------------------------
# New unified design for order detail pages (both laundry & cleaning)
# See: UNIFIED_ORDER_DETAIL_IMPLEMENTATION_COMPLETE.md

# Master toggle for unified order UI
NEXT_PUBLIC_UNIFIED_ORDER_UI=false

# Rollout percentage (0-100) - controls what % of users see new UI
NEXT_PUBLIC_UNIFIED_ROLLOUT=0

# Enhanced timeline component
NEXT_PUBLIC_UNIFIED_TIMELINE=false

# Animation system with accessibility support
NEXT_PUBLIC_ENHANCED_ANIMATIONS=false

# Analytics & event tracking
NEXT_PUBLIC_ANALYTICS=false

# Granular component control (optional)
NEXT_PUBLIC_NEW_HEADER=false
NEXT_PUBLIC_NEW_TIMELINE=false
NEXT_PUBLIC_NEW_DETAILS_CARD=false

# ----------------------------------------------------------------------------
# File Storage (Optional - for document uploads)
# ----------------------------------------------------------------------------
# Supabase Storage bucket name for partner documents (COI, etc.)
NEXT_PUBLIC_SUPABASE_STORAGE_BUCKET=tidyhood-documents

# ----------------------------------------------------------------------------
# Optional: Development & Debugging
# ----------------------------------------------------------------------------
# These are optional and only needed for specific scenarios

# Enable Next.js debug logging (optional)
# DEBUG=true

# Enable Stripe debug mode (optional)
# STRIPE_DEBUG=true

# Skip email verification in development (optional)
# SKIP_EMAIL_VERIFICATION=true

# ----------------------------------------------------------------------------
# Production Deployment Checklist
# ----------------------------------------------------------------------------
# Before deploying to production, ensure:
#
# ✓ All REQUIRED variables are set with production values
# ✓ NEXT_PUBLIC_SITE_URL uses HTTPS and your production domain
# ✓ Stripe keys are live keys (pk_live_... and sk_live_...)
# ✓ Stripe webhook is configured with production endpoint
# ✓ Google Maps API key has proper restrictions (HTTP referrers)
# ✓ Twilio phone number is verified and active
# ✓ SUPABASE_SERVICE_ROLE_KEY is kept secure (never exposed to client)
# ✓ .env.local is in .gitignore (never committed to git)
# ✓ All service ZIP codes are updated for your service area
#
# Security Notes:
# - Never commit .env.local or any file with real credentials
# - Use environment variables in your hosting platform (Vercel, etc.)
# - Rotate keys immediately if they are ever exposed
# - Use test keys for development, live keys only in production
# ============================================================================
